<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Лабораторная работа по web-programming 3</title>
    <h:outputStylesheet name="css/style.css"/>
    <h:outputScript name="js/buttonHandler.js"/>
    <!--TODO добавить иконку ссайта-->
</h:head>

<h:body>
    <header>
        <h1>ФИО: Елисеев Константин Иванович</h1>
        <h1>Группа: P3208</h1>
        <h1>Вариант: 456752 </h1>
    </header>

    <!--TODO добавить график-->
    <svg id="graph" xmlns="http://www.w3.org/2000/svg" width="500" height="500">

        <rect id="square" x="250" y="50" width="200" height="200" fill="#122028" fill-opacity="0.6"></rect>
        <polygon id="triangle" points="250,250 450,250 250,350" fill="#122028" fill-opacity="0.6"></polygon>
        <path id="circle" d="M 250 250 L 50 250 A 200 200 0 0 0 250 450 Z" fill="#122028" fill-opacity="0.6"></path>

        <!--X line-->
        <line x1="0" y1="250" x2="500" y2="250" stroke="#122028"></line>
        <!--Y line-->
        <line x1="250" y1="0" x2="250" y2="500" stroke="#122028"></line>

        <line x1="210" y1="248" x2="210" y2="252" stroke="#122028"></line> <!-- -1 point on x -->
        <line x1="290" y1="248" x2="290" y2="252" stroke="#122028"></line> <!-- 1 point on x -->
        <text x="205" y="240">-1</text> <!-- '-1' on x -->
        <text x="285" y="240">1</text> <!-- '1' on x -->

        <line x1="170" y1="248" x2="170" y2="252" stroke="#122028"></line> <!-- -2 point on x -->
        <line x1="330" y1="248" x2="330" y2="252" stroke="#122028"></line> <!-- 2 point on x -->
        <text x="165" y="240">-1.5</text> <!-- '-2' on x -->
        <text x="325" y="240">1.5</text> <!-- '2' on x -->

        <line x1="130" y1="248" x2="130" y2="252" stroke="#122028"></line> <!-- -3 point on x -->
        <line x1="370" y1="248" x2="370" y2="252" stroke="#122028"></line> <!-- 3 point on x -->
        <text x="125" y="240">-2</text> <!-- '-3' on x -->
        <text x="365" y="240">2</text> <!-- '3' on x -->

        <line x1="90" y1="248" x2="90" y2="252" stroke="#122028"></line> <!-- -4 point on x -->
        <line x1="410" y1="248" x2="410" y2="252" stroke="#122028"></line> <!-- 4 point on x -->
        <text x="85" y="240">-2.5</text> <!-- '-4' on x -->
        <text x="405" y="240">2.5</text> <!-- '4' on x -->

        <line x1="50" y1="248" x2="50" y2="252" stroke="#122028"></line> <!-- -5 point on x -->
        <line x1="450" y1="248" x2="450" y2="252" stroke="#122028"></line> <!-- 5 point on x -->
        <text x="45" y="240">-3</text> <!-- '-5' on x -->
        <text x="445" y="240">3</text> <!-- '5' on x -->


        <line x1="248" y1="210" x2="252" y2="210" stroke="#122028"></line> <!-- 1 on y -->
        <line x1="248" y1="290" x2="252" y2="290" stroke="#122028"></line> <!-- -1 on y -->
        <text x="256" y="215">1</text> <!-- 1 on y -->
        <text x="256" y="295">-1</text> <!-- -1 on y -->

        <line x1="248" y1="170" x2="252" y2="170" stroke="#122028"></line> <!-- 2 on y -->
        <line x1="248" y1="330" x2="252" y2="330" stroke="#122028"></line> <!-- -2 on y -->
        <text x="256" y="175">1.5</text> <!-- 2 on y -->
        <text x="256" y="335">-1.5</text> <!-- -2 on y -->

        <line x1="248" y1="130" x2="252" y2="130" stroke="#122028"></line> <!-- 3 on y -->
        <line x1="248" y1="370" x2="252" y2="370" stroke="#122028"></line> <!-- -3 on y -->
        <text x="256" y="135">2</text> <!-- 3 on y -->
        <text x="256" y="375">-2</text> <!-- -3 on y -->

        <line x1="248" y1="90" x2="252" y2="90" stroke="#122028"></line> <!-- 4 on y -->
        <line x1="248" y1="410" x2="252" y2="410" stroke="#122028"></line> <!-- -4 on y -->
        <text x="256" y="95">2.5</text> <!-- 4 on y -->
        <text x="256" y="415">-2.5</text> <!-- -4 on y -->

        <line x1="248" y1="50" x2="252" y2="50" stroke="#122028"></line> <!-- 5 on y -->
        <line x1="248" y1="450" x2="252" y2="450" stroke="#122028"></line> <!-- -5 on y -->
        <text x="256" y="55">3</text> <!-- 3 on y -->
        <text x="256" y="455">-3</text> <!-- -3 on y -->
        <!-- arrows -->
        <polygon points="250,0 255,5 245, 5" fill="#000720" stroke="#000720"></polygon>
        <polygon points="500, 250 495,245 495,255" fill="#000720" stroke="#000720"></polygon>
    </svg>

    <div class="tables-container">
        <h:form id="areaForm" >
            <table>
                <tr>
                    <!--X value-->
                    <td>Изменение X:</td>
                    <td>
                        <h:commandButton styleClass="x-button" value="-3" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(-3)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(-3)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="-2" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(-2)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(-2)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="-1" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(-1)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(-1)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="0" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(0)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(0)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="1" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(1)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(1)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="2" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(2)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(2)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="3" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(3)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(3)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="4" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(4)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(4)}"/>
                        </h:commandButton>
                        <h:commandButton styleClass="x-button" value="5" action="#{controllerBean.x}" actionListener="#{controllerBean.setX(5)}" onclick="handleButtonClick(this)">
                            <f:ajax render="x" listener="#{controllerBean.setX(5)}"/>
                        </h:commandButton>
                    </td>
                </tr>

                <tr>
                    <!--Y value-->
                    <td>Изменение Y:</td>
                    <td>
                        <!--TODO добавить валидатор-->
                        <h:outputLabel for="y"/>
                        <h:inputText id="y" value="#{controllerBean.y}" required="true" placeholder="введите число от -3 до 3"/>
                        <h:message for="y" style="color:red"/>
                    </td>
                </tr>

                <tr>
                    <!--R value-->
                    <td>Изменение R:</td>
                    <td>
                        <h:selectOneMenu id="r" value="#{controllerBean.r}">
                            <f:selectItem itemValue="1" itemLabel="1"/>
                            <f:selectItem itemValue="2" itemLabel="2"/>
                            <f:selectItem itemValue="3" itemLabel="3"/>
                            <f:selectItem itemValue="4" itemLabel="4"/>
                            <f:selectItem itemValue="5" itemLabel="5"/>
                        </h:selectOneMenu>
                    </td>
                </tr>
            </table>

            <div style="display: grid; place-items: center;">
                <h:commandButton value="Отправить" type="button" action="#{controllerBean.saveToDB()}"/>
            </div>
        </h:form>

        <table id="resultTable">
            <tr>
                <th>X</th>
                <th>Y</th>
                <th>R</th>
                <th>Результат</th>
                <th>Дата</th>
            </tr>
        </table>
    </div>
    <h:outputScript name="js/interactive.js"/>
</h:body>
</html>